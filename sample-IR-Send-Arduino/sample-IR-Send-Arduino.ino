//------------------------------------------------------------------------------
// OSI5LA5113A: 標準 1.35V  (最大1.6V)
//
// An IR LED must be connected to Arduino PWM pin 3.
//------------------------------------------------------------------------------

#include <IRremote.h>

IRsend irsend;

void setup() {
  Serial.begin(115200); delay(100); Serial.println("\nStart\n");

  pinMode(6, INPUT_PULLUP);
}

void loop() {
  if (digitalRead(6, LOW)) {
    int khz = 38;
//    unsigned int irSignal[] = {3700,1500, 650,200, 650,200, 650,1100, 600,1100, 650,250, 600,1100, 600,250, 600,250, 600,300, 550,1150, 600,250, 600,300, 550,1150, 550,300, 600,1150, 550,300, 550,1150, 600,250, 600,300, 550,1150, 550,300, 550,350, 500,350, 550,300, 550,300, 550,300, 550,1150, 550,350, 550,1150, 550,1200, 550,300, 550,350, 500,1200, 500,350, 550,1150, 550,1200, 550,1150, 550,1200, 550,350, 500,350, 500};
    unsigned int irSignal[] = {3700,1500, 650,200, 650,200, 650,1100, 600,1100, 650,250, 600,1100, 600,250, 600,250, 600,300, 550,1150, 600,250, 600,300, 550,1150, 550,300, 600,1150, 550,300, 550,1150, 600,250, 600,300, 550,1150, 550,300, 550,350, 500,350, 550,300, 550,300, 550,300, 550,1150, 550,350, 550,1150, 550,1200, 550,300, 550,350, 500,1200, 500,350, 550,1150, 550,1200, 550,1150, 550,1200, 550,350, 500,350, 500};
    irsend.sendRaw(irSignal, sizeof(irSignal) / sizeof(irSignal[0]), khz);
    delay(3000);
  }
}
